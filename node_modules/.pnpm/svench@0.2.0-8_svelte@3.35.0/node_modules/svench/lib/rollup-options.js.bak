import * as path from 'path'

import { pipe, isRollupV1 } from './util.js'

export const parseRollupSvenchifyOptions = ({
  presets = ['svench/presets/rollup', 'svench/presets/rollup-svenchify'],
  configFunction = !isRollupV1(),
  ...options
}) => ({
  presets,
  configFunction,
  _finalizeOptions: finalizeRollupOptions,
  ...options,
})
