const fs = require('fs')

const { snowpackConfig, rollupConfig } = require('./const.js')

const detectTool = async () => {
  const [snowpack, rollup] = await Promise.all([
    new Promise(resolve => {
      fs.exists(snowpackConfig, resolve)
    }),
    new Promise(resolve => {
      fs.exists(rollupConfig, resolve)
    }),
  ])
  if (snowpack) return 'snowpack'
  if (rollup) return 'rollup'
}

module.exports = { detectTool }
